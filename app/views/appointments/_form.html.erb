<div class="form-header">
  <p></p>
  <p class="form-title"> <%= @appointment.id ? 'Update Appointment' : 'Create Appointment' %></p>
  <a href="/calendar">x</a>
</div>
<div class="form-wrapper">


  <%= form_with model: @appointment do |f| %>
    <div class="row">
      <div class="col s9">
        <div id="appointment_services" class="row">
          <%= f.hidden_field :location_id %>
          <div class="col s8 push-s2">

            <%= f.fields_for :appointment_services, @appointment.appointment_services do |service| %>
              <%= render 'appointment_service_fields', f: service %>
            <% end %>
            <div class="links">
              <%= link_to_add_association 'Add Service', f, :appointment_services, class: 'btn' %>
            </div>
            <div class="">
              <%= f.label :notes %>
              <%= f.text_field :notes %>
            </div>
          </div>
        </div>
      </div>

      <div class="col s3">
        <div class="row">
          <%= f.label :client_id %>
          <%= f.select :client_id, @clients, {selected: f.object.client_id} , {class: 'browser-default select2'} %>
        </div>
      </div>
    </div>

    <%= f.submit :save, class: 'btn' %>

  <% end %>
</div>



<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<script>
    $(document).on('turbolinks:load', function () {
        $('.select2').select2();

    });
</script>